{"ast":null,"code":"var _jsxFileName = \"D:\\\\web-dev\\\\BookMark\\\\client\\\\src\\\\components\\\\admin\\\\BookForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookForm = ({\n  onClose,\n  onSave,\n  book = null\n}) => {\n  _s();\n  var _book$genre;\n  const [title, setTitle] = useState((book === null || book === void 0 ? void 0 : book.title) || '');\n  const [author, setAuthor] = useState((book === null || book === void 0 ? void 0 : book.author) || '');\n  const [description, setDescription] = useState((book === null || book === void 0 ? void 0 : book.description) || '');\n  const [coverImage, setCoverImage] = useState((book === null || book === void 0 ? void 0 : book.coverImage) || '');\n  const [audioFile, setAudioFile] = useState((book === null || book === void 0 ? void 0 : book.audioFile) || '');\n  const [category, setCategory] = useState((book === null || book === void 0 ? void 0 : book.category) || 'audiobook');\n  const [duration, setDuration] = useState((book === null || book === void 0 ? void 0 : book.duration) || 0);\n  const [genre, setGenre] = useState((book === null || book === void 0 ? void 0 : (_book$genre = book.genre) === null || _book$genre === void 0 ? void 0 : _book$genre[0]) || '');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const bookData = {\n      title,\n      author,\n      description,\n      coverImage,\n      audioFile,\n      category,\n      duration: Number(duration),\n      genre: [genre]\n    };\n    try {\n      const url = book ? `http://localhost:9000/api/books/${book._id}` : 'http://localhost:9000/api/books';\n      const config = {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      };\n      const response = book ? await axios.put(url, bookData, config) : await axios.post(url, bookData, config);\n      if (response.status === 200 || response.status === 201) {\n        onSave();\n      }\n    } catch (error) {\n      var _error$response;\n      console.error('Error submitting book:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert('Error submitting book. Please check the console for details.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Title\",\n      value: title,\n      onChange: e => setTitle(e.target.value),\n      required: true,\n      className: \"w-full p-2 border rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Author\",\n      value: author,\n      onChange: e => setAuthor(e.target.value),\n      required: true,\n      className: \"w-full p-2 border rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"Description\",\n      value: description,\n      onChange: e => setDescription(e.target.value),\n      className: \"w-full p-2 border rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Cover Image URL\",\n      value: coverImage,\n      onChange: e => setCoverImage(e.target.value),\n      className: \"w-full p-2 border rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Audio File URL (MP3 or OGG format)\",\n      value: audioFile,\n      onChange: e => setAudioFile(e.target.value),\n      pattern: \".*\\\\.(mp3|ogg)$\",\n      title: \"Please enter a valid MP3 or OGG audio file URL\",\n      required: true,\n      className: \"w-full p-2 border rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: category,\n      onChange: e => setCategory(e.target.value),\n      className: \"w-full p-2 border rounded\",\n      required: true,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"audiobook\",\n        children: \"Audiobook\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"podcast\",\n        children: \"Podcast\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"course\",\n        children: \"Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"kids\",\n        children: \"Kids\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      placeholder: \"Duration (in seconds)\",\n      value: duration,\n      onChange: e => setDuration(e.target.value),\n      required: true,\n      className: \"w-full p-2 border rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Genre\",\n      value: genre,\n      onChange: e => setGenre(e.target.value),\n      required: true,\n      className: \"w-full p-2 border rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\",\n      children: book ? 'Update Book' : 'Add Book'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(BookForm, \"/f4a+3N0l4/HZUn87hbxA7W6fv8=\");\n_c = BookForm;\nexport default BookForm;\nvar _c;\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","BookForm","onClose","onSave","book","_s","_book$genre","title","setTitle","author","setAuthor","description","setDescription","coverImage","setCoverImage","audioFile","setAudioFile","category","setCategory","duration","setDuration","genre","setGenre","handleSubmit","e","preventDefault","bookData","Number","url","_id","config","headers","localStorage","getItem","response","put","post","status","error","_error$response","console","data","message","alert","onSubmit","className","children","type","placeholder","value","onChange","target","required","fileName","_jsxFileName","lineNumber","columnNumber","pattern","_c","$RefreshReg$"],"sources":["D:/web-dev/BookMark/client/src/components/admin/BookForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst BookForm = ({ onClose, onSave, book = null }) => {\n  const [title, setTitle] = useState(book?.title || '');\n  const [author, setAuthor] = useState(book?.author || '');\n  const [description, setDescription] = useState(book?.description || '');\n  const [coverImage, setCoverImage] = useState(book?.coverImage || '');\n  const [audioFile, setAudioFile] = useState(book?.audioFile || '');\n  const [category, setCategory] = useState(book?.category || 'audiobook');\n  const [duration, setDuration] = useState(book?.duration || 0);\n  const [genre, setGenre] = useState(book?.genre?.[0] || '');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const bookData = {\n      title,\n      author,\n      description,\n      coverImage,\n      audioFile,\n      category,\n      duration: Number(duration),\n      genre: [genre]\n    };\n\n    try {\n      const url = book\n        ? `http://localhost:9000/api/books/${book._id}`\n        : 'http://localhost:9000/api/books';\n\n      const config = {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      };\n\n      const response = book\n        ? await axios.put(url, bookData, config)\n        : await axios.post(url, bookData, config);\n\n      if (response.status === 200 || response.status === 201) {\n        onSave();\n      }\n    } catch (error) {\n      console.error('Error submitting book:', error.response?.data || error.message);\n      alert('Error submitting book. Please check the console for details.');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <input\n        type=\"text\"\n        placeholder=\"Title\"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n        required\n        className=\"w-full p-2 border rounded\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Author\"\n        value={author}\n        onChange={(e) => setAuthor(e.target.value)}\n        required\n        className=\"w-full p-2 border rounded\"\n      />\n      <textarea\n        placeholder=\"Description\"\n        value={description}\n        onChange={(e) => setDescription(e.target.value)}\n        className=\"w-full p-2 border rounded\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Cover Image URL\"\n        value={coverImage}\n        onChange={(e) => setCoverImage(e.target.value)}\n        className=\"w-full p-2 border rounded\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Audio File URL (MP3 or OGG format)\"\n        value={audioFile}\n        onChange={(e) => setAudioFile(e.target.value)}\n        pattern=\".*\\.(mp3|ogg)$\"\n        title=\"Please enter a valid MP3 or OGG audio file URL\"\n        required\n        className=\"w-full p-2 border rounded\"\n      />\n      <select\n        value={category}\n        onChange={(e) => setCategory(e.target.value)}\n        className=\"w-full p-2 border rounded\"\n        required\n      >\n        <option value=\"audiobook\">Audiobook</option>\n        <option value=\"podcast\">Podcast</option>\n        <option value=\"course\">Course</option>\n        <option value=\"kids\">Kids</option>\n      </select>\n\n      <input\n        type=\"number\"\n        placeholder=\"Duration (in seconds)\"\n        value={duration}\n        onChange={(e) => setDuration(e.target.value)}\n        required\n        className=\"w-full p-2 border rounded\"\n      />\n\n      <input\n        type=\"text\"\n        placeholder=\"Genre\"\n        value={genre}\n        onChange={(e) => setGenre(e.target.value)}\n        required\n        className=\"w-full p-2 border rounded\"\n      />\n      <button \n        type=\"submit\" \n        className=\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\"\n      >\n        {book ? 'Update Book' : 'Add Book'}\n      </button>\n    </form>\n  );\n};\n\nexport default BookForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}